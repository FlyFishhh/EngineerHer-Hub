"use strict";(self.webpackChunkairbnb=self.webpackChunkairbnb||[]).push([[90],{4090:(e,n,t)=>{t.r(n),t.d(n,{default:()=>N});var a,c=t(7528);const s=t(4574).Ay.div(a||(a=(0,c.A)(["\n  > .content {\n    width: 970px;\n    margin: 0 auto;\n\n\n    .mainbox{\n      border: 1px solid #ccc;\n      border-radius: 10px;\n      margin-top: 30px;\n      padding: 30px;\n      background: #fff;\n    }\n    .topinfo {\n      display: flex;\n      gap: 40px;\n      align-items: center;\n\n\n      .contentbox {\n        display: flex;\n        flex-direction: column;\n        height: 55px;\n        width: 100%;\n        justify-content: space-around;\n      }\n\n      .top {\n        display: flex;\n        gap: 50px;\n        .time {\n        }\n      }\n    }\n\n    .content{\n      margin-top: 30px;\n    }\n    .imgbox {\n      display: flex;\n      gap: 15px;\n      flex-wrap: wrap;\n      margin-top: 30px;\n\n      .imgitem{\n        width: 313px;\n        height: 313px;\n        img{\n          width: 100%;\n          height: 100%;\n        }\n      }\n    }\n    .comment{\n      margin-top: 30px;\n    }\n  }\n"])));var i=t(6558),o=t(289),r=t(1802),l=t(7569),m=t(9286),d=t(5627),p=t(9644),h=t(3689),u=t(9998),x=t(5043),g=(t(3516),t(3216)),v=t(7602),j=t(579);const{TextArea:y}=i.A,f=e=>{let{onChange:n,onSubmit:t,submitting:a,value:c}=e;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(o.A.Item,{children:(0,j.jsx)(y,{showCount:!0,rows:4,maxLength:300,onChange:n,value:c})}),(0,j.jsx)(o.A.Item,{children:(0,j.jsx)(r.A,{htmlType:"submit",loading:a,onClick:t,type:"primary",children:"Add Comment"})})]})},b=e=>{let{comments:n,onChange:t}=e;const[a,c]=(0,x.useState)("");n.map((e=>({...e})));return(0,j.jsx)(l.Ay,{locale:{emptyText:"No comments"},dataSource:n,header:"".concat(n.length," ").concat(n.length>1?"replies":"reply"),itemLayout:"horizontal",renderItem:e=>(0,j.jsx)(m.A,{actions:[(0,j.jsx)("span",{onClick:()=>s(e),children:"Reply to"},"comment-basic-reply-to")],...e,children:(0,j.jsx)(l.Ay,{locale:{emptyText:"No comments"},dataSource:e.child,itemLayout:"horizontal",renderItem:e=>{const n={...e,id:e.id,userId:e.userId,child:e.child,author:e.name+" reply "+e.toUserName,avatar:e.imgUrl,content:e.content,datetime:e.createTime};return(0,j.jsx)(m.A,{actions:[(0,j.jsx)("span",{onClick:()=>s(n),children:"Reply to"},"comment-basic-reply-to")],...n})}})})});function s(e){t(e)}},N=(0,x.memo)((()=>{const{id:e}=(0,g.g)(),[n,t]=(0,x.useState)([]),a=async()=>{try{if(e){const n=await(0,v.f5)(e);if(200===n.code){let e=n.data,a=n.data.commentList.map((e=>({id:e.id,userId:e.userId,child:e.child,author:e.name,avatar:e.imgUrl,content:e.content,datetime:e.createTime})));e.commentList=a,t(e)}}}catch(n){console.log(n)}},[c,i]=(0,x.useState)([]),[o,r]=(0,x.useState)(!1),[l,y]=(0,x.useState)(""),[N,A]=(0,x.useState)(""),[w,C]=(0,x.useState)(""),E=async()=>{if(!l)return;r(!0);let n={parentId:N,toId:w,postId:e,content:l};const t=await(0,v.Im)(n);200===t.code?(d.Ay.success("successful!"),r(!1),A(""),y(""),a()):d.Ay.error(t.message)},I=e=>{y(e.target.value)};return(0,x.useEffect)((()=>{a()}),[]),(0,j.jsx)(s,{children:(0,j.jsx)("div",{className:"content",children:(0,j.jsxs)("div",{className:"mainbox",children:[(0,j.jsxs)("div",{className:"topinfo",children:[(0,j.jsx)("div",{className:"avatar",children:(0,j.jsx)(p.A,{size:55,children:"USER"})}),(0,j.jsxs)("div",{className:"contentbox",children:[(0,j.jsx)("div",{className:"top",children:(0,j.jsx)("div",{className:"name",children:n.name})}),(0,j.jsx)("div",{children:n.createTime})]})]}),(0,j.jsxs)("div",{className:"detail",children:[(0,j.jsx)("div",{className:"content",children:n.content}),(0,j.jsx)("div",{className:"imgbox",children:n.images&&n.images.map(((e,n)=>(0,j.jsx)(h.A,{width:280,height:280,src:e,preview:e},n)))}),(0,j.jsx)(u.A,{children:"comment"}),(0,j.jsx)("div",{className:"comment",children:(0,j.jsxs)(j.Fragment,{children:[n.commentList&&(0,j.jsx)(b,{comments:n.commentList,onChange:e=>{C(e.userId),A(e.parentId)}}),(0,j.jsx)(m.A,{content:N?(0,j.jsxs)("div",{children:[(0,j.jsx)("div",{style:{marginBottom:"10px"},children:"Reply to"}),(0,j.jsx)(f,{onChange:I,onSubmit:E,submitting:o,value:l})]}):(0,j.jsx)("div",{children:(0,j.jsx)(f,{onChange:I,onSubmit:E,submitting:o,value:l})})})]})})]})]})})})}))},9286:(e,n,t)=>{t.d(n,{A:()=>m});var a=t(8168),c=t(4467),s=t(8139),i=t.n(s),o=t(5043),r=t(5296),l=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)n.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(t[a[c]]=e[a[c]])}return t};const m=function(e){var n=e.actions,t=e.author,s=e.avatar,m=e.children,d=e.className,p=e.content,h=e.prefixCls,u=e.datetime,x=l(e,["actions","author","avatar","children","className","content","prefixCls","datetime"]),g=o.useContext(r.QO),v=g.getPrefixCls,j=g.direction,y=v("comment",h),f=s?o.createElement("div",{className:"".concat(y,"-avatar")},"string"===typeof s?o.createElement("img",{src:s,alt:"comment-avatar"}):s):null,b=n&&n.length?o.createElement("ul",{className:"".concat(y,"-actions")},n.map((function(e,n){return o.createElement("li",{key:"action-".concat(n)},e)}))):null,N=(t||u)&&o.createElement("div",{className:"".concat(y,"-content-author")},t&&o.createElement("span",{className:"".concat(y,"-content-author-name")},t),u&&o.createElement("span",{className:"".concat(y,"-content-author-time")},u)),A=o.createElement("div",{className:"".concat(y,"-content")},N,o.createElement("div",{className:"".concat(y,"-content-detail")},p),b),w=i()(y,(0,c.A)({},"".concat(y,"-rtl"),"rtl"===j),d);return o.createElement("div",(0,a.A)({},x,{className:w}),o.createElement("div",{className:"".concat(y,"-inner")},f,A),m?function(e,n){return o.createElement("div",{className:i()("".concat(e,"-nested"))},n)}(y,m):null)}}}]);
//# sourceMappingURL=90.eeaefe83.chunk.js.map
"use strict";(self.webpackChunkairbnb=self.webpackChunkairbnb||[]).push([[90],{4090:(e,n,t)=>{t.r(n),t.d(n,{default:()=>A});var a,c=t(7528);const s=t(4574).Ay.div(a||(a=(0,c.A)(["\n  > .content {\n    width: 970px;\n    margin: 0 auto;\n\n\n    .mainbox{\n      border: 1px solid #ccc;\n      border-radius: 10px;\n      margin-top: 30px;\n      padding: 30px;\n      background: #fff;\n    }\n    .topinfo {\n      display: flex;\n      gap: 40px;\n      align-items: center;\n\n\n      .contentbox {\n        display: flex;\n        flex-direction: column;\n        height: 55px;\n        width: 100%;\n        justify-content: space-around;\n      }\n\n      .top {\n        display: flex;\n        gap: 50px;\n        .time {\n        }\n      }\n    }\n\n    .content{\n      margin-top: 30px;\n    }\n    .imgbox {\n      display: flex;\n      gap: 15px;\n      flex-wrap: wrap;\n      margin-top: 30px;\n\n      .imgitem{\n        width: 313px;\n        height: 313px;\n        img{\n          width: 100%;\n          height: 100%;\n        }\n      }\n    }\n    .comment{\n      margin-top: 30px;\n    }\n  }\n"])));var i=t(9967),r=t(6558),o=t(289),l=t(1802),m=t(7569),d=t(9286),p=t(5627),h=t(9644),x=t(3689),u=t(9998),g=t(5043),v=(t(3516),t(3216)),j=t(7602),y=t(579);const{TextArea:f}=r.A,b=e=>{let{onChange:n,onSubmit:t,submitting:a,value:c}=e;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(o.A.Item,{children:(0,y.jsx)(f,{showCount:!0,rows:4,maxLength:300,onChange:n,value:c})}),(0,y.jsx)(o.A.Item,{children:(0,y.jsx)(l.A,{htmlType:"submit",loading:a,onClick:t,type:"primary",children:"Add Comment"})})]})},N=e=>{let{comments:n,onChange:t}=e;const[a,c]=(0,g.useState)("");n.map((e=>({...e})));return(0,y.jsx)(m.Ay,{locale:{emptyText:"No comments"},dataSource:n,header:"".concat(n.length," ").concat(n.length>1?"replies":"reply"),itemLayout:"horizontal",renderItem:e=>(0,y.jsx)(d.A,{actions:[(0,y.jsx)("span",{onClick:()=>s(e),children:"Reply to"},"comment-basic-reply-to")],...e,children:(0,y.jsx)(m.Ay,{locale:{emptyText:" "},dataSource:e.child,itemLayout:"horizontal",renderItem:e=>{const n={...e,id:e.id,userId:e.userId,child:e.child,author:e.name+" reply "+e.toUserName,avatar:e.imgUrl,content:e.content,datetime:e.createTime};return(0,y.jsx)(d.A,{actions:[(0,y.jsx)("span",{onClick:()=>s(n),children:"Reply to"},"comment-basic-reply-to")],...n})}})})});function s(e){e.parentId||(e.parentId=e.id),console.log(e),t(e)}},A=(0,g.memo)((()=>{const{id:e}=(0,v.g)(),[n,t]=(0,g.useState)([]),a=async()=>{try{if(e){const n=await(0,j.f5)(e);if(200===n.code){let e=n.data,a=n.data.commentList.map((e=>({id:e.id,userId:e.userId,child:e.child,author:e.name,avatar:e.imgUrl,content:e.content,datetime:e.createTime})));e.commentList=a,t(e)}}}catch(n){console.log(n)}},[c,r]=(0,g.useState)([]),[o,l]=(0,g.useState)(!1),[m,f]=(0,g.useState)(""),[A,C]=(0,g.useState)(""),[w,I]=(0,g.useState)(""),E=async()=>{if(!m)return;l(!0);let n={parentId:A,toId:w,postId:e,content:m};const t=await(0,j.Im)(n);200===t.code?(p.Ay.success("successful!"),l(!1),C(""),f(""),a()):p.Ay.error(t.message)},S=e=>{f(e.target.value)};return(0,g.useEffect)((()=>{a()}),[]),(0,y.jsx)(s,{children:(0,y.jsx)("div",{className:"content",children:(0,y.jsxs)("div",{className:"mainbox",children:[(0,y.jsxs)("div",{className:"topinfo",children:[(0,y.jsx)("div",{className:"avatar",children:(0,y.jsx)(h.A,{size:55,children:"USER"})}),(0,y.jsxs)("div",{className:"contentbox",children:[(0,y.jsx)("div",{className:"top",children:(0,y.jsx)("div",{className:"name",children:n.name})}),(0,y.jsx)("div",{children:n.createTime})]})]}),(0,y.jsxs)("div",{className:"detail",children:[(0,y.jsx)("div",{className:"content",children:n.content}),(0,y.jsx)("div",{className:"imgbox",children:n.images&&n.images.map(((e,n)=>(0,y.jsx)(x.A,{width:280,height:280,src:e,preview:e},n)))}),(0,y.jsx)(u.A,{children:"comment"}),(0,y.jsx)("div",{className:"comment",children:(0,y.jsxs)(y.Fragment,{children:[n.commentList&&(0,y.jsx)(N,{comments:n.commentList,onChange:e=>{I(e.userId),C(e.parentId)}}),(0,y.jsx)(d.A,{content:A&&0!==A?(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{style:{marginBottom:"10px",marginRight:"20px"},children:["Reply to     ",(0,y.jsx)(i.A,{onClick:()=>C(0)})]}),(0,y.jsx)(b,{onChange:S,onSubmit:E,submitting:o,value:m})]}):(0,y.jsx)("div",{children:(0,y.jsx)(b,{onChange:S,onSubmit:E,submitting:o,value:m})})})]})})]})]})})})}))},9286:(e,n,t)=>{t.d(n,{A:()=>m});var a=t(8168),c=t(4467),s=t(8139),i=t.n(s),r=t(5043),o=t(5296),l=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)n.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(t[a[c]]=e[a[c]])}return t};const m=function(e){var n=e.actions,t=e.author,s=e.avatar,m=e.children,d=e.className,p=e.content,h=e.prefixCls,x=e.datetime,u=l(e,["actions","author","avatar","children","className","content","prefixCls","datetime"]),g=r.useContext(o.QO),v=g.getPrefixCls,j=g.direction,y=v("comment",h),f=s?r.createElement("div",{className:"".concat(y,"-avatar")},"string"===typeof s?r.createElement("img",{src:s,alt:"comment-avatar"}):s):null,b=n&&n.length?r.createElement("ul",{className:"".concat(y,"-actions")},n.map((function(e,n){return r.createElement("li",{key:"action-".concat(n)},e)}))):null,N=(t||x)&&r.createElement("div",{className:"".concat(y,"-content-author")},t&&r.createElement("span",{className:"".concat(y,"-content-author-name")},t),x&&r.createElement("span",{className:"".concat(y,"-content-author-time")},x)),A=r.createElement("div",{className:"".concat(y,"-content")},N,r.createElement("div",{className:"".concat(y,"-content-detail")},p),b),C=i()(y,(0,c.A)({},"".concat(y,"-rtl"),"rtl"===j),d);return r.createElement("div",(0,a.A)({},u,{className:C}),r.createElement("div",{className:"".concat(y,"-inner")},f,A),m?function(e,n){return r.createElement("div",{className:i()("".concat(e,"-nested"))},n)}(y,m):null)}}}]);
//# sourceMappingURL=90.c5d8bb09.chunk.js.map
"use strict";(self.webpackChunkairbnb=self.webpackChunkairbnb||[]).push([[90],{4090:(e,n,t)=>{t.r(n),t.d(n,{default:()=>N});var a,c=t(7528);const s=t(4574).Ay.div(a||(a=(0,c.A)(["\n  > .content {\n    width: 970px;\n    margin: 0 auto;\n\n\n    .mainbox{\n      border: 1px solid #ccc;\n      border-radius: 10px;\n      margin-top: 30px;\n      padding: 30px;\n      background: #fff;\n    }\n    .topinfo {\n      display: flex;\n      gap: 40px;\n      align-items: center;\n\n\n      .contentbox {\n        display: flex;\n        flex-direction: column;\n        height: 55px;\n        width: 100%;\n        justify-content: space-around;\n      }\n\n      .top {\n        display: flex;\n        gap: 50px;\n        .time {\n        }\n      }\n    }\n\n    .content{\n      margin-top: 30px;\n    }\n    .imgbox {\n      display: flex;\n      gap: 15px;\n      flex-wrap: wrap;\n      margin-top: 30px;\n\n      .imgitem{\n        width: 313px;\n        height: 313px;\n        img{\n          width: 100%;\n          height: 100%;\n        }\n      }\n    }\n    .comment{\n      margin-top: 30px;\n    }\n  }\n"])));var i=t(6558),r=t(289),o=t(1802),l=t(7569),m=t(9286),d=t(5627),x=t(9644),p=t(3689),h=t(9998),u=t(5043),g=(t(3516),t(3216)),v=t(7602),f=t(579);const{TextArea:j}=i.A,y=e=>{let{onChange:n,onSubmit:t,submitting:a,value:c}=e;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(r.A.Item,{children:(0,f.jsx)(j,{rows:4,maxLength:300,onChange:n,value:c})}),(0,f.jsx)(r.A.Item,{children:(0,f.jsx)(o.A,{htmlType:"submit",loading:a,onClick:t,type:"primary",children:"Add Comment"})})]})},b=e=>{let{comments:n}=e;return(0,f.jsx)(l.Ay,{locale:{emptyText:"No comments"},dataSource:n,header:"".concat(n.length," ").concat(n.length>1?"replies":"reply"),itemLayout:"horizontal",renderItem:e=>(0,f.jsx)(m.A,{...e})})},N=(0,u.memo)((()=>{const{id:e}=(0,g.g)(),[n,t]=(0,u.useState)([]),a=async()=>{try{if(e){const n=await(0,v.f5)(e);if(200===n.code){let e=n.data,a=n.data.commentList.map((e=>({author:e.name,avatar:e.imgUrl,content:e.content,datetime:e.createTime})));e.commentList=a,t(e)}}}catch(n){console.log(n)}},[c,i]=(0,u.useState)([]),[r,o]=(0,u.useState)(!1),[l,j]=(0,u.useState)("");return(0,u.useEffect)((()=>{a()}),[]),(0,f.jsx)(s,{children:(0,f.jsx)("div",{className:"content",children:(0,f.jsxs)("div",{className:"mainbox",children:[(0,f.jsxs)("div",{className:"topinfo",children:[(0,f.jsx)("div",{className:"avatar",children:(0,f.jsx)(x.A,{size:55,children:"USER"})}),(0,f.jsxs)("div",{className:"contentbox",children:[(0,f.jsx)("div",{className:"top",children:(0,f.jsx)("div",{className:"name",children:n.name})}),(0,f.jsx)("div",{children:n.createTime})]})]}),(0,f.jsxs)("div",{className:"detail",children:[(0,f.jsx)("div",{className:"content",children:n.content}),(0,f.jsx)("div",{className:"imgbox",children:n.images&&n.images.map(((e,n)=>(0,f.jsx)(p.A,{width:280,height:280,src:e,preview:e},n)))}),(0,f.jsx)(h.A,{children:"comment"}),(0,f.jsx)("div",{className:"comment",children:(0,f.jsxs)(f.Fragment,{children:[n.commentList&&(0,f.jsx)(b,{comments:n.commentList}),(0,f.jsx)(m.A,{avatar:(0,f.jsx)(x.A,{alt:"Han Solo",children:"User"}),content:(0,f.jsx)(y,{onChange:e=>{j(e.target.value)},onSubmit:async()=>{if(!l)return;o(!0);let n={postId:e,content:l};const t=await(0,v.Im)(n);200===t.code?(d.Ay.success("successful!"),o(!1),j(""),a()):d.Ay.error(t.message)},submitting:r,value:l})})]})})]})]})})})}))},9286:(e,n,t)=>{t.d(n,{A:()=>m});var a=t(8168),c=t(4467),s=t(8139),i=t.n(s),r=t(5043),o=t(5296),l=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(a=Object.getOwnPropertySymbols(e);c<a.length;c++)n.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(e,a[c])&&(t[a[c]]=e[a[c]])}return t};const m=function(e){var n=e.actions,t=e.author,s=e.avatar,m=e.children,d=e.className,x=e.content,p=e.prefixCls,h=e.datetime,u=l(e,["actions","author","avatar","children","className","content","prefixCls","datetime"]),g=r.useContext(o.QO),v=g.getPrefixCls,f=g.direction,j=v("comment",p),y=s?r.createElement("div",{className:"".concat(j,"-avatar")},"string"===typeof s?r.createElement("img",{src:s,alt:"comment-avatar"}):s):null,b=n&&n.length?r.createElement("ul",{className:"".concat(j,"-actions")},n.map((function(e,n){return r.createElement("li",{key:"action-".concat(n)},e)}))):null,N=(t||h)&&r.createElement("div",{className:"".concat(j,"-content-author")},t&&r.createElement("span",{className:"".concat(j,"-content-author-name")},t),h&&r.createElement("span",{className:"".concat(j,"-content-author-time")},h)),A=r.createElement("div",{className:"".concat(j,"-content")},N,r.createElement("div",{className:"".concat(j,"-content-detail")},x),b),w=i()(j,(0,c.A)({},"".concat(j,"-rtl"),"rtl"===f),d);return r.createElement("div",(0,a.A)({},u,{className:w}),r.createElement("div",{className:"".concat(j,"-inner")},y,A),m?function(e,n){return r.createElement("div",{className:i()("".concat(e,"-nested"))},n)}(j,m):null)}}}]);
//# sourceMappingURL=90.c9c636b3.chunk.js.map